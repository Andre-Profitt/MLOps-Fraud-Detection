# Environment Configuration Template
# Copy this file to .env and fill in your actual values

# ================================
# MLflow Configuration
# ================================
MLFLOW_TRACKING_URI=databricks
# For Databricks: "databricks"
# For local MLflow: "http://localhost:5000"
# For remote MLflow: "https://your-mlflow-server.com"

MLFLOW_EXPERIMENT_NAME=/Users/your_email@example.com/fraud_detection_experiments

# ================================
# Databricks Configuration
# ================================
DATABRICKS_HOST=https://your-workspace.cloud.databricks.com
DATABRICKS_TOKEN=your_databricks_token_here

# ================================
# Model Configuration
# ================================
CHAMPION_MODEL_URI=models:/fraud_detection_champion/Production
CHALLENGER_MODEL_URI=models:/fraud_detection_challenger/Staging

# Model file paths (for local development)
SCALER_PATH=/dbfs/FileStore/fraud_detection/prepared/scaler.pkl
FEATURE_NAMES_PATH=/dbfs/FileStore/fraud_detection/prepared/feature_names.pkl

# ================================
# A/B Testing Configuration
# ================================
AB_TEST_ENABLED=true
CHALLENGER_TRAFFIC_PERCENTAGE=10  # Percentage of traffic to challenger model

# ================================
# API Configuration
# ================================
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
API_RELOAD=false

# ================================
# Database Configuration
# ================================
DATABASE_URL=postgresql://fraud_user:fraud_pass@localhost:5432/fraud_detection
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20

# ================================
# Redis Configuration
# ================================
REDIS_URL=redis://localhost:6379/0
REDIS_MAX_CONNECTIONS=10

# ================================
# Monitoring Configuration
# ================================
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

GRAFANA_PORT=3000
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=change_this_password

# ================================
# Drift Detection Configuration
# ================================
DRIFT_DETECTION_ENABLED=true
DRIFT_PSI_THRESHOLD=0.2
DRIFT_KS_THRESHOLD=0.05
DRIFT_CHECK_INTERVAL=3600  # seconds

# ================================
# Logging Configuration
# ================================
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=/app/logs/fraud-detection.log

# ================================
# Security Configuration
# ================================
API_KEY_ENABLED=false
API_KEY=your_api_key_here

JWT_SECRET_KEY=your_jwt_secret_key_here
JWT_ALGORITHM=HS256
JWT_EXPIRATION_MINUTES=60

# ================================
# Kaggle API (for data download)
# ================================
KAGGLE_USERNAME=your_kaggle_username
KAGGLE_KEY=your_kaggle_api_key

# ================================
# Cloud Storage (AWS S3)
# ================================
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_REGION=us-east-1
S3_BUCKET=fraud-detection-artifacts

# ================================
# Cloud Storage (Azure Blob)
# ================================
AZURE_STORAGE_CONNECTION_STRING=your_azure_connection_string
AZURE_STORAGE_CONTAINER=fraud-detection

# ================================
# Alerting Configuration
# ================================
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL
ALERT_EMAIL=alerts@example.com

# ================================
# Performance Configuration
# ================================
MAX_BATCH_SIZE=1000
REQUEST_TIMEOUT=30
CACHE_TTL=300  # seconds

# ================================
# Feature Flags
# ================================
ENABLE_MODEL_EXPLANATIONS=true
ENABLE_PREDICTION_CACHING=true
ENABLE_DRIFT_DETECTION=true
ENABLE_PERFORMANCE_MONITORING=true

# ================================
# Development/Testing
# ================================
ENVIRONMENT=development  # development, staging, production
DEBUG=false
TESTING=false
